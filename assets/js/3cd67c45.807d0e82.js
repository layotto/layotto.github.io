"use strict";(self.webpackChunklayotto_docusaurus=self.webpackChunklayotto_docusaurus||[]).push([[9320],{871:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var r=t(4848),n=t(8453);const a={},c="\u4f7f\u7528Secret API\u83b7\u53d6secret",l={id:"start/secret/start",title:"\u4f7f\u7528Secret API\u83b7\u53d6secret",description:"\u4ec0\u4e48\u662fSecret API",source:"@site/docs/start/secret/start.md",sourceDirName:"start/secret",slug:"/start/secret/start",permalink:"/layotto/docs/start/secret/start",draft:!1,unlisted:!1,editUrl:"https://github.com/mosn/layotto/edit/main/start/secret/start.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"\u4f7f\u7528Sequencer API\u751f\u6210\u5206\u5e03\u5f0f\u552f\u4e00\u3001\u81ea\u589eid",permalink:"/layotto/docs/start/sequencer/start"},next:{title:"Hello World",permalink:"/layotto/docs/start/rpc/helloworld"}},o={},d=[{value:"\u4ec0\u4e48\u662fSecret API",id:"\u4ec0\u4e48\u662fsecret-api",level:2},{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u7b2c\u4e00\u6b65\uff1a\u8fd0\u884cLayotto",id:"\u7b2c\u4e00\u6b65\u8fd0\u884clayotto",level:3},{value:"\u7b2c\u4e8c\u6b65\uff1a\u8fd0\u884c\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u8c03\u7528 Layotto \u83b7\u53d6 secret",id:"\u7b2c\u4e8c\u6b65\u8fd0\u884c\u5ba2\u6237\u7aef\u7a0b\u5e8f\u8c03\u7528-layotto-\u83b7\u53d6-secret",level:3},{value:"<strong>Go</strong>",id:"go",level:3},{value:"<strong>Java</strong>",id:"java",level:3},{value:"\u60f3\u8981\u8be6\u7ec6\u4e86\u89e3Secret API?",id:"\u60f3\u8981\u8be6\u7ec6\u4e86\u89e3secret-api",level:2}];function i(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"\u4f7f\u7528secret-api\u83b7\u53d6secret",children:"\u4f7f\u7528Secret API\u83b7\u53d6secret"}),"\n",(0,r.jsx)(s.h2,{id:"\u4ec0\u4e48\u662fsecret-api",children:"\u4ec0\u4e48\u662fSecret API"}),"\n",(0,r.jsx)(s.p,{children:"Secret API\u7528\u4e8e\u4ecefile\u3001env\u3001k8s\u7b49\u83b7\u53d6secret"}),"\n",(0,r.jsx)(s.p,{children:"Secret API\u652f\u6301\u83b7\u53d6\u5355\u4e2a\u548c\u6240\u6709secret"}),"\n",(0,r.jsx)(s.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,r.jsx)(s.p,{children:"\u8be5\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u901a\u8fc7Layotto Secret API \u83b7\u53d6 file\u3001env\u3001k8s\u4e2d\u7684secret"}),"\n",(0,r.jsx)(s.h3,{id:"\u7b2c\u4e00\u6b65\u8fd0\u884clayotto",children:"\u7b2c\u4e00\u6b65\uff1a\u8fd0\u884cLayotto"}),"\n",(0,r.jsx)(s.p,{children:"\u5c06\u9879\u76ee\u4ee3\u7801\u4e0b\u8f7d\u5230\u672c\u5730\u540e\uff0c\u5207\u6362\u4ee3\u7801\u76ee\u5f55\u3001\u7f16\u8bd1\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cd ${project_path}/cmd/layotto\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u6784\u5efa:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist layotto",children:"go build -o layotto\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5b8c\u6210\u540e\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210layotto\u6587\u4ef6\uff0c\u8fd0\u884c\u5b83\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",metastring:"@background",children:"./layotto start --config ../../configs/config_standalone.json\n"})}),"\n",(0,r.jsx)(s.h3,{id:"\u7b2c\u4e8c\u6b65\u8fd0\u884c\u5ba2\u6237\u7aef\u7a0b\u5e8f\u8c03\u7528-layotto-\u83b7\u53d6-secret",children:"\u7b2c\u4e8c\u6b65\uff1a\u8fd0\u884c\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u8c03\u7528 Layotto \u83b7\u53d6 secret"}),"\n",(0,r.jsx)(s.h3,{id:"go",children:(0,r.jsx)(s.strong,{children:"Go"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:" cd ${project_path}/demo/secret/common/\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist client",children:" go build -o client\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:' ./client -s "secret_demo"\n'})}),"\n",(0,r.jsx)(s.p,{children:"\u6253\u5370\u51fa\u5982\u4e0b\u4fe1\u606f\u5219\u4ee3\u8868\u8c03\u7528\u6210\u529f\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'data:{key:"db-user-pass:password" value:"S!S*d$zDsb="}\ndata:{key:"db-user-pass:password" value:{secrets:{key:"db-user-pass:password" value:"S!S*d$zDsb="}}} data:{key:"db-user-pass:username" value:{secrets:{key:"db-user-pass:username" value:"devuser"}}}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"java",children:(0,r.jsx)(s.strong,{children:"Java"})}),"\n",(0,r.jsx)(s.p,{children:"\u4e0b\u8f7d java sdk \u548c\u793a\u4f8b\u4ee3\u7801:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist java-sdk",children:"git clone https://github.com/layotto/java-sdk\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5207\u6362\u76ee\u5f55:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"cd java-sdk\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u6784\u5efa:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist examples-secret/target/examples-secret-jar-with-dependencies.jar",children:"# build example jar\nmvn -f examples-secret/pom.xml clean package\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u8fd0\u884c:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-shell",children:"java -jar examples-secret/target/examples-secret-jar-with-dependencies.jar\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u6253\u5370\u51fa\u4ee5\u4e0b\u4fe1\u606f\u8bf4\u660e\u8fd0\u884c\u6210\u529f:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"{db-user-pass:password=S!S*d$zDsb=}\n{redisPassword={redisPassword=redis123}, db-user-pass:password={db-user-pass:password=S!S*d$zDsb=}, db-user-pass:username={db-user-pass:username=devuser}}\n"})}),"\n",(0,r.jsx)(s.h2,{id:"\u60f3\u8981\u8be6\u7ec6\u4e86\u89e3secret-api",children:"\u60f3\u8981\u8be6\u7ec6\u4e86\u89e3Secret API?"}),"\n",(0,r.jsxs)(s.p,{children:["Layotto\u590d\u7528\u4e86Dapr\u7684Secret API\uff0c\u4e86\u89e3\u66f4\u591a\uff1a",(0,r.jsx)(s.a,{href:"https://docs.dapr.io/operations/components/setup-secret-store/",children:"https://docs.dapr.io/operations/components/setup-secret-store/"})]})]})}function p(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>l});var r=t(6540);const n={},a=r.createContext(n);function c(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);
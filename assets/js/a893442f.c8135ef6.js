"use strict";(self.webpackChunklayotto_docusaurus=self.webpackChunklayotto_docusaurus||[]).push([[1644],{9387:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var s=t(4848),c=t(8453);const r={},o="\u5206\u5e03\u5f0f\uff08\u81ea\u589e\uff09\u552f\u4e00id\u7ec4\u4ef6",d={id:"component_specs/sequencer/common",title:"\u5206\u5e03\u5f0f\uff08\u81ea\u589e\uff09\u552f\u4e00id\u7ec4\u4ef6",description:"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784",source:"@site/docs/component_specs/sequencer/common.md",sourceDirName:"component_specs/sequencer",slug:"/component_specs/sequencer/common",permalink:"/layotto/docs/component_specs/sequencer/common",draft:!1,unlisted:!1,editUrl:"https://github.com/mosn/layotto/edit/main/component_specs/sequencer/common.md",tags:[],version:"current",frontMatter:{}},i={},a=[];function l(e){const n={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u5206\u5e03\u5f0f\u81ea\u589e\u552f\u4e00id\u7ec4\u4ef6",children:"\u5206\u5e03\u5f0f\uff08\u81ea\u589e\uff09\u552f\u4e00id\u7ec4\u4ef6"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784"})}),"\n",(0,s.jsx)(n.p,{children:"json\u914d\u7f6e\u6587\u4ef6\u6709\u5982\u4e0b\u7ed3\u6784\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"sequencer": {\n  "<Component A Name>": {\n    "type": "Component A Name",\n    "biggerThan": {\n      "<KEY>": "<VALUE>",\n      "<KEY>": "<VALUE>"\n    },\n    "metadata": {\n      "<KEY>": "<VALUE>",\n      "<KEY>": "<VALUE>"\n    }\n  },\n  "<Component B Name>": {\n    "type": "Component B Name",\n    "biggerThan": {\n      "<KEY>": "<VALUE>",\n      "<KEY>": "<VALUE>"\n    },\n    "metadata": {\n      "<KEY>": "<VALUE>",\n      "<KEY>": "<VALUE>"\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u5728metadata\u91cc\u914d\u7f6e\u7ec4\u4ef6\u5173\u5fc3\u7684key/value\u914d\u7f6e\u3002\u4f8b\u5982",(0,s.jsx)(n.a,{href:"https://github.com/mosn/layotto/blob/main/configs/runtime_config.json",children:"etcd\u7ec4\u4ef6\u7684\u914d\u7f6e"})," \u5982\u4e0b\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"sequencer": {\n  "sequencer_demo": {\n    "type": "etcd",\n    "biggerThan": {\n      "key1": 1,\n      "key2": 111\n    },\n    "metadata": {\n      "endpoints": "localhost:2379",\n      "segmentCacheEnable": "false",\n      "segmentStep": "1",\n      "username": "",\n      "password": "",\n      "dialTimeout": "5"\n    }\n  }\n},\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u901a\u7528\u914d\u7f6e\u9879\u8bf4\u660e"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u5b57\u6bb5"}),(0,s.jsx)(n.th,{children:"\u5fc5\u586b"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"biggerThan"}),(0,s.jsx)(n.td,{children:"N"}),(0,s.jsx)(n.td,{children:'\u8981\u6c42\u7ec4\u4ef6\u751f\u6210\u7684\u6240\u6709id\u90fd\u5f97\u6bd4"biggerThan"\u5927\u3002\u8bbe\u8ba1\u8fd9\u4e2a\u914d\u7f6e\u9879\u662f\u4e3a\u4e86\u65b9\u4fbf\u7528\u6237\u505a\u79fb\u690d\u3002\u6bd4\u5982\u7cfb\u7edf\u539f\u5148\u4f7f\u7528mysql\u505a\u53d1\u53f7\u670d\u52a1\uff0cid\u5df2\u7ecf\u751f\u6210\u5230\u4e861000\uff0c\u540e\u6765\u8fc1\u79fb\u5230PostgreSQL\u4e0a\uff0c\u9700\u8981\u914d\u7f6ebiggerThan\u4e3a1000\uff0c\u8fd9\u6837PostgreSQL\u7ec4\u4ef6\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u8bbe\u7f6e\u3001\u5f3a\u5236id\u57281000\u4ee5\u4e0a,\u6216\u8005\u53d1\u73b0id\u6ca1\u6cd5\u6ee1\u8db3\u8981\u6c42\u3001\u76f4\u63a5\u542f\u52a8\u65f6\u62a5\u9519\u3002'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"segmentCacheEnable"}),(0,s.jsx)(n.td,{children:"N"}),(0,s.jsx)(n.td,{children:"\u662f\u5426\u5f00\u542f\u53f7\u6bb5\u7f13\u5b58\u3002\u9ed8\u8ba4\u503ctrue"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"segmentStep"}),(0,s.jsx)(n.td,{children:"N"}),(0,s.jsx)(n.td,{children:"\u6bcf\u6b21\u53f7\u6bb5\u7f13\u5b58\u7684\u5927\u5c0f\uff0c\u9ed8\u8ba4\u503c50"})]})]})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4ec0\u4e48\u662fsegment(\u53f7\u6bb5)\u6a21\u5f0f?"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u539f\u59cb\u65b9\u6848\u662f\u6bcf\u6b21\u83b7\u53d6ID\u90fd\u5f97\u8bfb\u5199\u4e00\u6b21\u6570\u636e\u5e93\uff0c\u9020\u6210\u6570\u636e\u5e93\u538b\u529b\u5927\u3002segment(\u53f7\u6bb5)\u6a21\u5f0f\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u60f3\u5728sidecar\u91cc\u9762\u63d0\u524d\u7f13\u5b58\u4e00\u4e9bid\uff08\u7f13\u5b58\u4e00\u4e2a\u53f7\u6bb5\u5185\u7684\u6240\u6709id),\u4e3a\u6570\u636e\u5e93\u51cf\u538b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5177\u4f53\u6765\u8bf4\uff0cLayotto\u6bcf\u6b21\u4ecesequencer\u7ec4\u4ef6\u6279\u91cf\u83b7\u53d6id\uff0c\u5373\u6bcf\u6b21\u83b7\u53d6\u4e00\u4e2asegment(segmentStep\u51b3\u5b9a\u5927\u5c0f)\u53f7\u6bb5\u7684\u503c\u3002\u7528\u5b8c\u4e4b\u540eLayotto\u518d\u8c03\u7528\u7ec4\u4ef6\u3001\u7ec4\u4ef6\u518d\u53bb\u6570\u636e\u5e93\u83b7\u53d6\u65b0\u7684\u53f7\u6bb5\uff0c\u53ef\u4ee5\u5927\u5927\u7684\u51cf\u8f7b\u6570\u636e\u5e93\u7684\u538b\u529b\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u79cd\u8bbe\u8ba1\u53c2\u8003\u4e86",(0,s.jsx)(n.a,{href:"https://tech.meituan.com/2017/04/21/mt-leaf.html",children:"\u7f8e\u56e2Leaf\u7684\u8bbe\u8ba1"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u5176\u4ed6\u914d\u7f6e\u9879"})}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u4e86\u4ee5\u4e0a\u901a\u7528\u914d\u7f6e\u9879\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u6709\u81ea\u5df1\u7684\u7279\u6b8a\u914d\u7f6e\u9879\uff0c\u8bf7\u53c2\u8003\u6bcf\u4e2a\u7ec4\u4ef6\u7684\u8bf4\u660e\u6587\u6863\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var s=t(6540);const c={},r=s.createContext(c);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunklayotto_docusaurus=self.webpackChunklayotto_docusaurus||[]).push([[8004],{8247:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>i,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var o=n(4848),t=n(8453);const r={},c="Dubbo JSON RPC \u4e8b\u4f8b",d={id:"start/rpc/dubbo_json_rpc",title:"Dubbo JSON RPC \u4e8b\u4f8b",description:"\u6ce8\u610f: \u8fd9\u4e2a\u4f8b\u5b50\u9700\u8981\u8fd0\u884c\u5728go v1.17\u4e0b",source:"@site/docs/start/rpc/dubbo_json_rpc.md",sourceDirName:"start/rpc",slug:"/start/rpc/dubbo_json_rpc",permalink:"/layotto/docs/start/rpc/dubbo_json_rpc",draft:!1,unlisted:!1,editUrl:"https://github.com/mosn/layotto/edit/main/docs/docs/start/rpc/dubbo_json_rpc.md",tags:[],version:"current",frontMatter:{}},l={},a=[{value:"\u5feb\u901f\u5f00\u59cb",id:"\u5feb\u901f\u5f00\u59cb",level:2},{value:"step 1. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u52a0\u5165<code>dubbo_json_rpc</code>\u63d2\u4ef6",id:"step-1-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u52a0\u5165dubbo_json_rpc\u63d2\u4ef6",level:3},{value:"step 2. \u7f16\u8bd1\u8fd0\u884clayotto",id:"step-2-\u7f16\u8bd1\u8fd0\u884clayotto",level:3},{value:"step 3. \u542f\u52a8dubbo\u670d\u52a1\u7aef",id:"step-3-\u542f\u52a8dubbo\u670d\u52a1\u7aef",level:3},{value:"step 4. \u901a\u8fc7GPRC\u63a5\u53e3\u53d1\u8d77\u8c03\u7528",id:"step-4-\u901a\u8fc7gprc\u63a5\u53e3\u53d1\u8d77\u8c03\u7528",level:3},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:3}];function p(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.h1,{id:"dubbo-json-rpc-\u4e8b\u4f8b",children:"Dubbo JSON RPC \u4e8b\u4f8b"}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.em,{children:"\u6ce8\u610f: \u8fd9\u4e2a\u4f8b\u5b50\u9700\u8981\u8fd0\u884c\u5728go v1.17\u4e0b"})}),"\n",(0,o.jsx)(s.h2,{id:"\u5feb\u901f\u5f00\u59cb",children:"\u5feb\u901f\u5f00\u59cb"}),"\n",(0,o.jsxs)(s.h3,{id:"step-1-\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u52a0\u5165dubbo_json_rpc\u63d2\u4ef6",children:["step 1. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u52a0\u5165",(0,o.jsx)(s.code,{children:"dubbo_json_rpc"}),"\u63d2\u4ef6"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"jsonrpc.jpg",src:n(2292).A+"",width:"654",height:"594"})}),"\n",(0,o.jsx)(s.h3,{id:"step-2-\u7f16\u8bd1\u8fd0\u884clayotto",children:"step 2. \u7f16\u8bd1\u8fd0\u884clayotto"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist layotto",children:"go build -o layotto ./cmd/layotto\n"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@background",children:"./layotto -c demo/rpc/dubbo_json_rpc/example.json\n"})}),"\n",(0,o.jsx)(s.h3,{id:"step-3-\u542f\u52a8dubbo\u670d\u52a1\u7aef",children:"step 3. \u542f\u52a8dubbo\u670d\u52a1\u7aef"}),"\n",(0,o.jsxs)(s.p,{children:["\u8fd9\u91cc\u4f7f\u7528\u4e86",(0,o.jsx)(s.code,{children:"dubbo-go-samples"}),"\u63d0\u4f9b\u7684\u793a\u4f8b\u670d\u52a1\u3002\n\u4e0b\u8f7d\u793a\u4f8b\uff1a"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist dubbo-go-samples",children:"git clone https://github.com/apache/dubbo-go-samples.git\n"})}),"\n",(0,o.jsx)(s.p,{children:"\u542f\u52a8 zookeeper:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",children:'cd dubbo-go-samples\ngit reset --hard f0d1e1076397a4736de080ffb16cd0963c8c2f9d\n\n# start zookeeper\ncd rpc/jsonrpc/go-server\ndocker-compose -f docker/docker-compose.yml up -d\n\n# prepare to build dubbo server\ncd cmd\nexport DUBBO_GO_CONFIG_PATH="../conf/dubbogo.yml"\n'})}),"\n",(0,o.jsx)(s.p,{children:"\u6784\u5efa dubbo server:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@if.not.exist server",children:"go build -o server .\n"})}),"\n",(0,o.jsx)(s.p,{children:"\u8fd0\u884c dubbo server:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@background.sleep 3s",children:"./server\n"})}),"\n",(0,o.jsx)(s.h3,{id:"step-4-\u901a\u8fc7gprc\u63a5\u53e3\u53d1\u8d77\u8c03\u7528",children:"step 4. \u901a\u8fc7GPRC\u63a5\u53e3\u53d1\u8d77\u8c03\u7528"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",metastring:"@cd ${project_path}",children:'go run demo/rpc/dubbo_json_rpc/dubbo_json_client/client.go -d \'{"jsonrpc":"2.0","method":"GetUser","params":["A003"],"id":9527}\'\n'})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"jsonrpc.jpg",src:n(5259).A+"",width:"1669",height:"72"})}),"\n",(0,o.jsx)(s.h3,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,o.jsxs)(s.p,{children:["\u5982\u679c\u60a8\u5bf9\u5b9e\u73b0\u539f\u7406\u611f\u5174\u8da3\uff0c\u6216\u8005\u60f3\u6269\u5c55\u4e00\u4e9b\u529f\u80fd\uff0c\u53ef\u4ee5\u9605\u8bfb",(0,o.jsx)(s.a,{href:"/docs/design/rpc/rpc%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3.md",children:"RPC\u7684\u8bbe\u8ba1\u6587\u6863"})]})]})}function i(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},2292:(e,s,n)=>{n.d(s,{A:()=>o});const o=n.p+"assets/images/jsonrpc-d7b2414c8545964f5018737d6e02d12e.jpg"},5259:(e,s,n)=>{n.d(s,{A:()=>o});const o=n.p+"assets/images/jsonrpcresult-66cfeadc2aab73857ddbe6164762aaa7.jpg"},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>d});var o=n(6540);const t={},r=o.createContext(t);function c(e){const s=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),o.createElement(r.Provider,{value:s},e.children)}}}]);
"use strict";(self.webpackChunklayotto_docusaurus=self.webpackChunklayotto_docusaurus||[]).push([[6264],{903:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var i=n(4848),o=n(8453);const s={},r="Docs contributing guide",c={id:"development/contributing-doc",title:"Docs contributing guide",description:"Thank you for your support of Layotto!",source:"@site/i18n/en-US/docusaurus-plugin-content-docs/current/development/contributing-doc.md",sourceDirName:"development",slug:"/development/contributing-doc",permalink:"/layotto/en-US/docs/development/contributing-doc",draft:!1,unlisted:!1,editUrl:"https://github.com/mosn/layotto/edit/main/docs/i18n/en-US/docusaurus-plugin-content-docs/current/development/contributing-doc.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Newhanded offensive\uff1abecame a Layotto contributor from zero",permalink:"/layotto/en-US/docs/development/start-from-zero"},next:{title:"Automate testing of Quickstart documentation with tools",permalink:"/layotto/en-US/docs/development/test-quickstart"}},a={},d=[{value:"1. Document Path Description",id:"1-document-path-description",level:2},{value:"2. Documentation Site Description",id:"2-documentation-site-description",level:2},{value:"Local startup documentation site",id:"local-startup-documentation-site",level:3},{value:"3. What needs to be done to add a document",id:"3-what-needs-to-be-done-to-add-a-document",level:2},{value:"step 1. Create a markdown document",id:"step-1-create-a-markdown-document",level:3},{value:"step 2. Add the document to the sidebar",id:"step-2-add-the-document-to-the-sidebar",level:3},{value:"step 3. (optional) Start the local documentation site, validate",id:"step-3-optional-start-the-local-documentation-site-validate",level:3},{value:"Step 4. Submit PR, merge into the code repository",id:"step-4-submit-pr-merge-into-the-code-repository",level:3},{value:"4. Common pitfall: hyperlinks in documents",id:"4-common-pitfall-hyperlinks-in-documents",level:2},{value:"4.1. Incorrect Writing",id:"41-incorrect-writing",level:3},{value:"4.2. Correct Writing",id:"42-correct-writing",level:3},{value:"5. Image directory to image link",id:"5-image-directory-to-image-link",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"docs-contributing-guide",children:"Docs contributing guide"}),"\n",(0,i.jsx)(t.p,{children:"Thank you for your support of Layotto!"}),"\n",(0,i.jsx)(t.p,{children:"This document describes how to modify/add documents.The documents in this repository are written using Markdown syntax."}),"\n",(0,i.jsx)(t.h2,{id:"1-document-path-description",children:"1. Document Path Description"}),"\n",(0,i.jsx)(t.p,{children:"Documents are uniformly placed in the docs/ directory, with docs/docs storing documents, docs/blog storing blogs, and docs/i18n storing translated multilingual documents."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_14.png",src:n(4487).A+"",width:"690",height:"1354"})}),"\n",(0,i.jsx)(t.h2,{id:"2-documentation-site-description",children:"2. Documentation Site Description"}),"\n",(0,i.jsxs)(t.p,{children:["Files under the docs/ directory will be automatically deployed to github pages and rendered through ",(0,i.jsx)(t.a,{href:"https://docusaurus.io/",children:"docusaurus"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Generally speaking, after the .md file is merged into the main branch, you will be able to see the new page on the Layotto documentation site, and the deployment and rendering processes are automatic."}),"\n",(0,i.jsx)(t.h3,{id:"local-startup-documentation-site",children:"Local startup documentation site"}),"\n",(0,i.jsxs)(t.p,{children:["After writing the document locally, in order to quickly preview the effect, you can also refer to ",(0,i.jsx)(t.a,{href:"https://docusaurus.io/docs/installation",children:"docusaurus_installation"})," to start the documentation site locally."]}),"\n",(0,i.jsx)(t.p,{children:"Here is a summary of the steps:"}),"\n",(0,i.jsx)(t.p,{children:"step 1. Install Docusaurus, make sure the Node.js version is 18.0 or above"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"npm install\n"})}),"\n",(0,i.jsx)(t.p,{children:"step 2. Compile, compile the documents under 'docs' into static HTML files, and place the compiled files under 'docs/build'"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"npm run build --config docs\n"})}),"\n",(0,i.jsx)(t.p,{children:"Step 3. Start the documentation site"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"# Run npm run serve --config docs in the layotto project root directory\nnpm run serve --config docs\n"})}),"\n",(0,i.jsxs)(t.p,{children:["step 3. Open ",(0,i.jsx)(t.a,{href:"http://localhost:3000/",children:"http://localhost:3000/"})," to view the documentation site."]}),"\n",(0,i.jsx)(t.h2,{id:"3-what-needs-to-be-done-to-add-a-document",children:"3. What needs to be done to add a document"}),"\n",(0,i.jsx)(t.h3,{id:"step-1-create-a-markdown-document",children:"step 1. Create a markdown document"}),"\n",(0,i.jsx)(t.p,{children:"When you need to add a new document, you can create a new folder according to the directory structure, and create a .md file.For example, if you want to write the design document for distributed lock API, create directories under both Chinese and English directories:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"img_8.png",src:n(1306).A+"",width:"686",height:"1432"}),"\n",(0,i.jsx)(t.img,{alt:"img_9.png",src:n(6515).A+"",width:"688",height:"1428"})]}),"\n",(0,i.jsxs)(t.p,{children:["You can use Crowdin for auxiliary translation. After writing the Chinese documentation, use npm run crowdin",":upload"," to upload the Chinese documentation to the Crowdin platform. Find the Layotto project on the platform, translate it, and download it to the local response directory.",(0,i.jsx)(t.a,{href:"https://docusaurus.io/docs/i18n/crowdin",children:"crowdin reference documentation"})]}),"\n",(0,i.jsx)(t.h3,{id:"step-2-add-the-document-to-the-sidebar",children:"step 2. Add the document to the sidebar"}),"\n",(0,i.jsx)(t.p,{children:"After adding new documents and finishing the content, remember to update the sidebar."}),"\n",(0,i.jsx)(t.p,{children:"The Chinese sidebar is in docs/sidebars.js"}),"\n",(0,i.jsx)(t.p,{children:"The English sidebar needs to perform the following:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-shell",children:"npm run write-translations -- --locale en-US\n"})}),"\n",(0,i.jsx)(t.p,{children:"Then modify the corresponding sidebar content in docs/i18n/en-US/docusaurus-plugin-content-docs/current.json"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_10.png",src:n(6851).A+"",width:"1558",height:"1234"})}),"\n",(0,i.jsx)(t.h3,{id:"step-3-optional-start-the-local-documentation-site-validate",children:"step 3. (optional) Start the local documentation site, validate"}),"\n",(0,i.jsx)(t.p,{children:"You can use docusaurus to start a local documentation server and view the editing effects"}),"\n",(0,i.jsx)(t.h3,{id:"step-4-submit-pr-merge-into-the-code-repository",children:"Step 4. Submit PR, merge into the code repository"}),"\n",(0,i.jsx)(t.p,{children:"After finishing the above markdown file, submitting a PR, merging into the master branch, opening the official website will show the new document."}),"\n",(0,i.jsx)(t.h2,{id:"4-common-pitfall-hyperlinks-in-documents",children:"4. Common pitfall: hyperlinks in documents"}),"\n",(0,i.jsx)(t.p,{children:"There is an annoying issue with using Docusaurus to build a website: hyperlinks look very strange."}),"\n",(0,i.jsx)(t.p,{children:"The hyperlinks mentioned here are links that, when clicked, will redirect to other documents, such as the following:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_4.png",src:n(6694).A+"",width:"645",height:"132"})}),"\n",(0,i.jsx)(t.h3,{id:"41-incorrect-writing",children:"4.1. Incorrect Writing"}),"\n",(0,i.jsx)(t.p,{children:"If you try to use a relative path to write a hyperlink URL, you will find that clicking on it in the website will lead to a 404 error:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_6.png",src:n(1220).A+"",width:"966",height:"134"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_7.png",src:n(7901).A+"",width:"726",height:"208"})}),"\n",(0,i.jsx)(t.h3,{id:"42-correct-writing",children:"4.2. Correct Writing"}),"\n",(0,i.jsx)(t.p,{children:"There are two correct ways to use hyperlinks:"}),"\n",(0,i.jsx)(t.p,{children:"a. Use absolute path relative to the docs/ directory.For example:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img_11.png",src:n(4637).A+"",width:"1884",height:"1244"})}),"\n",(0,i.jsx)(t.p,{children:"Write in this way, warning in local compilers will be alerted, not ignored, and automatically processed into available hyperlinks when compiled."}),"\n",(0,i.jsx)(t.p,{children:"b. Use completed Url\u3002For example:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-markdown",children:"see [runtime_config.json](https://github.com/mosn/layotto/blob/main/configs/runtime_config.json):\n"})}),"\n",(0,i.jsx)(t.h2,{id:"5-image-directory-to-image-link",children:"5. Image directory to image link"}),"\n",(0,i.jsx)(t.p,{children:"Image is placed in the docs/static/img/ directory.This is in order to allow the docusaurus site to reach and docusaurus compiles the folders below static's top\uff1a"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"img12.png",src:n(3265).A+"",width:"1672",height:"712"})}),"\n",(0,i.jsx)(t.p,{children:"Local images with statics in the document recommend an absolute path /img if they are a network image, and a full image URL is sufficient."}),"\n",(0,i.jsxs)(t.p,{children:["For example, in the case of images with the mains branch, the prefix for the image Url is ",(0,i.jsx)(t.code,{children:"raw.githubusercontent.com/mosn/layotto/main/docs/img/xxx"})]}),"\n",(0,i.jsx)(t.p,{children:"The Markdown syntax is as follows:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-markdown",children:"![Architecture](https://raw.githubusercontent.com/mosn/layotto/main/docs/img/runtime-architecture.png)\n"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},6851:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_10-bfbc76116e5b326c097c1106552616b5.png"},4637:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_11-0657be7084169b31bdc5d0b63a4ad532.png"},3265:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_12-32c9c49a062b9e827f75a7f6be69bc33.png"},4487:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_14-3c8c9fe1453d1736c86680b521b007b3.png"},6694:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_4-7d32bde805238cbc1fe34a9f31fa643a.png"},1220:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_6-8c10d56fc1825195657a5f3f8f53b895.png"},7901:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_7-c15c13b6e532ced7ca9704f7c3f9d821.png"},1306:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_8-6d511068d389fcf095e5359fdcb5da8e.png"},6515:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/img_9-f3e018e0fe5e89c2af92494fb0692d8b.png"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var i=n(6540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);
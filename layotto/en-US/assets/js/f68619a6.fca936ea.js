"use strict";(self.webpackChunklayotto_docusaurus=self.webpackChunklayotto_docusaurus||[]).push([[4298],{7524:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var o=t(4848),s=t(8453);const l={},r="PhoneCallService API demo",a={id:"start/phone/start",title:"PhoneCallService API demo",description:"This example shows how to invoke Layotto PhoneCallService API.",source:"@site/i18n/en-US/docusaurus-plugin-content-docs/current/start/phone/start.md",sourceDirName:"start/phone",slug:"/start/phone/start",permalink:"/layotto/en-US/docs/start/phone/start",draft:!1,unlisted:!1,editUrl:"https://github.com/mosn/layotto/edit/main/start/phone/start.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"CryptionService API demo",permalink:"/layotto/en-US/docs/start/cryption/start"},next:{title:"EmailService API demo",permalink:"/layotto/en-US/docs/start/email/start"}},i={},c=[{value:"What is PhoneCallService API used for?",id:"what-is-phonecallservice-api-used-for",level:2},{value:"step 1. Deploy Layotto",id:"step-1-deploy-layotto",level:2},{value:"<strong>With Docker</strong>",id:"with-docker",level:3},{value:"<strong>Compile locally (not for Windows)</strong>",id:"compile-locally-not-for-windows",level:3},{value:"step 2. Run the client program to invoke Layotto PhoneCallService API",id:"step-2-run-the-client-program-to-invoke-layotto-phonecallservice-api",level:2},{value:"<strong>Go</strong>",id:"go",level:3},{value:"<strong>Java</strong>",id:"java",level:3},{value:"step 3. Stop containers and release resources",id:"step-3-stop-containers-and-release-resources",level:2},{value:"<strong>Destroy the Docker container</strong>",id:"destroy-the-docker-container",level:3},{value:"Next step",id:"next-step",level:2},{value:"What does this client program do?",id:"what-does-this-client-program-do",level:3},{value:"Details later, let&#39;s continue to experience other APIs",id:"details-later-lets-continue-to-experience-other-apis",level:3},{value:"Reference",id:"reference",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"phonecallservice-api-demo",children:"PhoneCallService API demo"}),"\n",(0,o.jsx)(n.p,{children:"This example shows how to invoke Layotto PhoneCallService API."}),"\n",(0,o.jsx)(n.h2,{id:"what-is-phonecallservice-api-used-for",children:"What is PhoneCallService API used for?"}),"\n",(0,o.jsx)(n.p,{children:"PhoneCallService API is used to send voice messages."}),"\n",(0,o.jsx)(n.h2,{id:"step-1-deploy-layotto",children:"step 1. Deploy Layotto"}),"\n",(0,o.jsx)(n.h3,{id:"with-docker",children:(0,o.jsx)(n.strong,{children:"With Docker"})}),"\n",(0,o.jsx)(n.p,{children:"You can start Layotto with docker"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'docker run -v "$(pwd)/configs/config_standalone.json:/runtime/configs/config.json" -d  -p 34904:34904 --name layotto layotto/layotto start\n'})}),"\n",(0,o.jsx)(n.h3,{id:"compile-locally-not-for-windows",children:(0,o.jsx)(n.strong,{children:"Compile locally (not for Windows)"})}),"\n",(0,o.jsx)(n.p,{children:"You can compile and run Layotto locally."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"[!TIP|label: Not for Windows users]\nLayotto fails to compile under Windows. Windows users are recommended to deploy using docker"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"After downloading the project code to the local, switch the code directory and compile:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"cd ${project_path}/cmd/layotto\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",metastring:"@if.not.exist layotto",children:"go build\n"})}),"\n",(0,o.jsx)(n.p,{children:"Once finished, the layotto binary will be generated in the directory."}),"\n",(0,o.jsx)(n.p,{children:"Run it:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",metastring:"@background",children:"./layotto start -c ../../configs/config_standalone.json\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-2-run-the-client-program-to-invoke-layotto-phonecallservice-api",children:"step 2. Run the client program to invoke Layotto PhoneCallService API"}),"\n",(0,o.jsx)(n.h3,{id:"go",children:(0,o.jsx)(n.strong,{children:"Go"})}),"\n",(0,o.jsx)(n.p,{children:"Build and run the golang demo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:' cd ${project_path}/demo/phone/common/\n go build -o client\n ./client -s "demo"\n'})}),"\n",(0,o.jsx)(n.p,{children:"If the following information is printed, the demo is successful:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"TODO\n"})}),"\n",(0,o.jsx)(n.h3,{id:"java",children:(0,o.jsx)(n.strong,{children:"Java"})}),"\n",(0,o.jsx)(n.p,{children:"Download java sdk and examples:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",metastring:"@if.not.exist java-sdk",children:"git clone https://github.com/layotto/java-sdk\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"cd java-sdk\n"})}),"\n",(0,o.jsx)(n.p,{children:"Build the demo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",metastring:"@if.not.exist examples-phone/target/examples-phone-jar-with-dependencies.jar",children:"# build example jar\nmvn -f examples-phone/pom.xml clean package\n"})}),"\n",(0,o.jsx)(n.p,{children:"Run it:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"java -jar examples-phone/target/examples-phone-jar-with-dependencies.jar\n"})}),"\n",(0,o.jsx)(n.p,{children:"If the following information is printed, the demo is successful:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"TODO\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-3-stop-containers-and-release-resources",children:"step 3. Stop containers and release resources"}),"\n",(0,o.jsx)(n.h3,{id:"destroy-the-docker-container",children:(0,o.jsx)(n.strong,{children:"Destroy the Docker container"})}),"\n",(0,o.jsx)(n.p,{children:"If you started Layotto with docker, you can destroy the container as follows:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker rm -f layotto\n"})}),"\n",(0,o.jsx)(n.h2,{id:"next-step",children:"Next step"}),"\n",(0,o.jsx)(n.h3,{id:"what-does-this-client-program-do",children:"What does this client program do?"}),"\n",(0,o.jsx)(n.p,{children:"The demo client program uses the SDK provided by Layotto to invoke the Layotto PhoneCallService API."}),"\n",(0,o.jsxs)(n.p,{children:["The golang sdk is located in the ",(0,o.jsx)(n.code,{children:"sdk"})," directory, and the java sdk is in ",(0,o.jsx)(n.a,{href:"https://github.com/layotto/java-sdk",children:"https://github.com/layotto/java-sdk"})]}),"\n",(0,o.jsx)(n.p,{children:"In addition to using sdk, you can also interact with Layotto directly through grpc in any language you like."}),"\n",(0,o.jsx)(n.h3,{id:"details-later-lets-continue-to-experience-other-apis",children:"Details later, let's continue to experience other APIs"}),"\n",(0,o.jsx)(n.p,{children:"Explore other Quickstarts through the navigation bar on the left."}),"\n",(0,o.jsx)(n.h3,{id:"reference",children:"Reference"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://mosn.io/layotto/api/v1/phone.html",children:"API Reference"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const s={},l=o.createContext(s);function r(e){const n=o.useContext(l);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);